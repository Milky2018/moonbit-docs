# E4094

Cannot modify a read-only field.

For a read-only `struct`, you cannot modify the value of a field using
assignment outside of the package where the type is defined.

## Erroneous example

Suppose you have a package `a` in module `username/hello`:

`a/moon.pkg.json`:

```json
{}
```

`a/a.mbt`:

```{literalinclude} /sources/error_codes/E4094_error/top.mbt
:language: moonbit
```

And you have another package `b` in the same module:

`b/moon.pkg.json`:

```json
{
  "is-main": true,
  "import": [
    "username/hello/a"
  ]
}
```

`b/b.mbt`:

```{literalinclude} /sources/error_codes/E4094_error/top_1.mbt
:language: moonbit
```

## Suggestion

If you have control over the package where the type is defined, you can simply
make the struct has `pub(all)` visibility.

`a/a.mbt

```{literalinclude} /sources/error_codes/E4094_fixed/top.mbt
:language: moonbit
```

However, this might not be the best solution if you want to hide the
implementation details of the struct or protect the invariant of the struct. We
recommend using getter/setter pattern to guard the access to the struct fields.

`b/b.mbt`:

```{literalinclude} /sources/error_codes/E4094_fixed/top_1.mbt
:language: moonbit
```
